# 머니챗(MoneyChat) 상세 기능 명세서

## 1. 제품 개요

### 1.1 제품 정보
- **제품명**: 머니챗 (MoneyChat)
- **슬로건**: "가계부를 대화로, 재정관리를 일상으로"
- **비전**: 가계부 작성을 '업무'가 아닌 '대화'로 만들어 재정 관리 접근성 향상
- **타겟 사용자**: 
  - 주 타겟: 2040 직장인 중 가계부 필요성은 느끼지만 기존 방식에 지친 사용자
  - 보조 타겟: 재테크 초심자, 가계부 입문자

### 1.2 핵심 가치 제안
1. **자연스러운 대화형 입력**: 일상 대화하듯 지출 내역 기록
2. **지능형 자동 분석**: AI가 날짜, 금액, 카테고리를 자동으로 추출/분류
3. **유연한 데이터 이관**: 기존 엑셀 데이터를 대화형으로 검증하며 이관

## 2. 정보 구조 (Information Architecture)

```
머니챗(MoneyChat)
├── 홈(대시보드)
│   ├── 이번 달 요약
│   ├── 최근 대화 내역
│   └── 빠른 입력 버튼
├── 채팅
│   ├── 대화형 입력
│   ├── 대화 히스토리
│   └── 수정/삭제 기능
├── 엑셀 업로드
│   ├── 파일 업로드
│   ├── 매핑 확인
│   ├── 대화형 검증
│   └── 업로드 결과
├── 내역 관리
│   ├── 전체 내역 조회
│   ├── 검색/필터
│   └── 일괄 편집
├── 리포트
│   ├── 월별 리포트
│   ├── 카테고리별 분석
│   └── 지출 트렌드
└── 설정
    ├── 프로필 관리
    ├── 카테고리 설정
    ├── 알림 설정
    └── 데이터 내보내기
```

## 3. 핵심 기능별 상세 사용자 플로우

### 3.1 대화형 가계부 (자연어 입력)

#### 3.1.1 기본 입력 플로우
```
1. 사용자가 채팅 화면 진입
2. 하단 입력창에 자연어로 지출 내역 입력
   예: "어제 스벅에서 친구랑 라떼 마셔서 9천원 썼어"
3. AI가 메시지 분석하여 추출된 정보 표시
   - 날짜: 어제 (2025-07-28)
   - 장소: 스타벅스
   - 카테고리: 카페/음료
   - 금액: 9,000원
   - 메모: 친구와 라떼
4. 사용자에게 확인 요청 (카드형 UI)
   [확인] [수정] [취소]
5. 확인 시 저장 완료 메시지
6. 수정 시 인라인 편집 모드 활성화
```

#### 3.1.2 복수 내역 입력 플로우
```
1. 사용자가 여러 지출 포함된 문장 입력
   예: "오늘 점심 15000원, 교통비 3200원, 저녁에 치킨 25000원 썼어"
2. AI가 각 내역을 분리하여 순차적으로 표시
3. 각 내역별로 개별 확인/수정 가능
4. 전체 확인 버튼으로 일괄 저장 가능
```

#### 3.1.3 대화형 수정 플로우
```
1. 사용자가 수정 요청
   예: "아니야, 8천원이었어"
2. AI가 직전 입력 내역 중 금액 수정 인식
3. 수정된 내역 표시하며 재확인 요청
4. 확인 시 업데이트 완료
```

### 3.2 지능형 엑셀 업로드 & Excel-to-Chat

#### 3.2.1 엑셀 업로드 플로우
```
1. 엑셀 업로드 화면에서 파일 선택
   - 드래그 앤 드롭 지원
   - 파일 탐색기로 선택
2. AI가 엑셀 구조 자동 분석
3. 컬럼 매핑 결과 표시
   - 날짜 열 → 날짜
   - 금액 열 → 금액
   - 설명 열 → 메모
   - 자동 매핑 실패 시 수동 선택 옵션
4. 매핑 확인 후 변환 시작
```

#### 3.2.2 Excel-to-Chat 검증 플로우
```
1. 엑셀 각 행을 채팅 메시지처럼 순차 표시
   AI: "2025년 7월 15일에 'GS25 편의점'에서 3,500원 지출하신 내역이 맞나요?"
   [확인] [수정] [삭제] [건너뛰기]
2. 사용자 응답에 따른 처리
   - 확인: 다음 행으로 진행
   - 수정: 인라인 편집 활성화
   - 삭제: 해당 내역 제외
   - 건너뛰기: 보류 목록에 추가
3. 진행률 표시 (예: 23/100건 처리 중)
4. 일괄 처리 옵션
   - "남은 내역 모두 확인"
   - "유사한 패턴 일괄 적용"
```

#### 3.2.3 업로드 완료 플로우
```
1. 처리 완료 요약 표시
   - 총 업로드 건수
   - 성공/수정/삭제 건수
   - 카테고리별 분류 결과
2. 즉시 리포트 생성
   - 기간별 지출 요약
   - 카테고리별 분석
   - 이상 패턴 감지 (선택사항)
3. 추가 작업 옵션
   - 리포트 상세 보기
   - 채팅으로 이동
   - 추가 파일 업로드
```

## 4. 핵심 화면 구성 요소

### 4.1 채팅 화면
```
┌─────────────────────────────────┐
│  < 뒤로    머니챗    설정 ⚙️    │ (헤더)
├─────────────────────────────────┤
│                                 │
│  💬 AI                          │
│  안녕하세요! 오늘 지출 내역을    │
│  알려주세요.                     │
│                                 │
│  👤 나                          │
│  어제 스벅에서 9천원 썼어         │
│                                 │
│  💬 AI                          │
│  ┌─────────────────────────┐   │
│  │ 📅 2025-07-28           │   │
│  │ 📍 스타벅스              │   │
│  │ 🏷️ 카페/음료            │   │
│  │ 💰 9,000원              │   │
│  │                         │   │
│  │ [확인] [수정] [취소]     │   │
│  └─────────────────────────┘   │
│                                 │
├─────────────────────────────────┤
│  💬 무엇을 도와드릴까요?          │ (입력창)
│  [📎] [🎤]              [전송]  │
└─────────────────────────────────┘
```

### 4.2 엑셀 업로드 화면
```
┌─────────────────────────────────┐
│  < 뒤로    엑셀 업로드           │
├─────────────────────────────────┤
│                                 │
│  ┌ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┐    │
│  │                         │    │
│  │    📁 파일을 여기에      │    │
│  │      드래그하세요        │    │
│  │                         │    │
│  │    [파일 선택하기]       │    │
│  └ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─ ┘    │
│                                 │
│  지원 형식: .xlsx, .xls, .csv    │
│  최대 크기: 10MB                 │
│                                 │
└─────────────────────────────────┘
```

### 4.3 대화형 검증 화면
```
┌─────────────────────────────────┐
│  엑셀 데이터 확인 중 (23/100)    │
├─────────────────────────────────┤
│  ■■■■■□□□□□ 23%                 │
├─────────────────────────────────┤
│                                 │
│  💬 AI                          │
│  다음 내역을 확인해주세요:        │
│                                 │
│  ┌─────────────────────────┐   │
│  │ 📅 2025-07-15           │   │
│  │ 📍 GS25 편의점           │   │
│  │ 💰 3,500원              │   │
│  │ 🏷️ 생활용품 (추천)       │   │
│  └─────────────────────────┘   │
│                                 │
│  [확인] [수정] [삭제] [건너뛰기] │
│                                 │
│  [남은 내역 모두 확인하기]        │
│                                 │
└─────────────────────────────────┘
```

## 5. 사용자 시나리오별 인터랙션

### 5.1 시나리오 1: 첫 사용자의 간단한 지출 입력
```
1. 앱 첫 실행 시 온보딩
   - "안녕하세요! 머니챗입니다. 편하게 대화하듯 지출을 알려주세요."
2. 사용자: "방금 편의점에서 5천원 썼어"
3. AI: 날짜/시간 자동 인식, 카테고리 추천
4. 빠른 확인 후 저장
5. AI: "잘 기록했어요! 다른 지출도 있나요?"
```

### 5.2 시나리오 2: 기존 엑셀 사용자의 데이터 이관
```
1. 설정 > 데이터 가져오기 선택
2. 6개월치 카드 내역 엑셀 업로드
3. AI가 패턴 분석 후 카테고리 자동 분류
4. 주요 지출처별 그룹화하여 빠른 검증
5. 완료 후 월별 리포트 자동 생성
```

### 5.3 시나리오 3: 정기 지출 관리
```
1. 사용자: "넷플릭스 월 17,900원 정기결제 추가해줘"
2. AI: "매월 자동으로 기록할까요?"
3. 사용자 확인 시 정기 지출 등록
4. 매월 자동 기록 및 알림
```

## 6. 에러 처리 및 예외 상황

### 6.1 자연어 인식 실패
```
상황: "그거 얼마더라... 한 만원쯤?"
처리:
1. AI: "정확한 금액을 알려주시겠어요? 예: 10,000원"
2. 추천 금액 제시 (8,000원 / 10,000원 / 12,000원)
3. 직접 입력 옵션 제공
```

### 6.2 엑셀 형식 인식 실패
```
상황: 비정형 엑셀 파일
처리:
1. "파일 구조를 자동으로 인식하지 못했어요."
2. 수동 매핑 화면으로 전환
3. 샘플 데이터 표시하며 컬럼 선택 유도
4. 건너뛰기 옵션 제공
```

### 6.3 중복 입력 감지
```
상황: 유사한 시간대 동일 금액 입력
처리:
1. AI: "비슷한 내역이 이미 있는 것 같아요. 확인해주세요."
2. 기존 내역 표시
3. [새로 추가] [기존 내역 수정] [취소] 옵션
```

### 6.4 네트워크 오류
```
처리:
1. 로컬 임시 저장
2. "네트워크 연결이 불안정해요. 연결되면 자동 저장됩니다."
3. 오프라인 모드 전환
4. 연결 복구 시 자동 동기화
```

## 7. 주요 UX 원칙

### 7.1 대화형 인터페이스
- 모든 상호작용을 자연스러운 대화로 처리
- AI의 응답은 친근하고 도움이 되는 톤
- 복잡한 기능도 대화를 통해 단순하게 안내

### 7.2 즉각적 피드백
- 모든 입력에 0.5초 내 반응
- 처리 중 상태를 명확히 표시
- 성공/실패를 시각적으로 구분

### 7.3 유연한 입력
- 다양한 표현 방식 수용
- 오타나 축약어도 이해
- 문맥 기반 추론

### 7.4 신뢰할 수 있는 데이터 처리
- 모든 변경사항 확인 절차
- 실행 취소 기능 제공
- 데이터 백업 옵션

## 8. 성능 지표 (KPI)

### 8.1 사용성 지표
- 첫 지출 입력까지 소요 시간: < 30초
- 엑셀 100건 처리 시간: < 5분
- 자연어 인식 정확도: > 95%

### 8.2 engagement 지표
- 일일 활성 사용자(DAU) 비율
- 주간 평균 입력 건수
- 대화형 입력 vs 수동 입력 비율

### 8.3 만족도 지표
- 앱스토어 평점: > 4.5
- 사용자 이탈률: < 20% (첫 달)
- 추천 의향(NPS): > 50

## 9. 향후 확장 기능

### 9.1 Phase 2 (3개월 후)
- 음성 입력 지원
- 영수증 사진 인식
- 공유 가계부 (가족/커플)
- 예산 설정 및 알림

### 9.2 Phase 3 (6개월 후)
- 금융 앱 연동 (자동 가져오기)
- AI 지출 분석 및 조언
- 커뮤니티 기능 (익명 지출 패턴 공유)
- 맞춤형 절약 챌린지

## 10. 기술 요구사항

### 10.1 프론트엔드
- 반응형 웹 디자인 (모바일 우선)
- PWA 지원 (오프라인 사용)
- 실시간 채팅 인터페이스

### 10.2 백엔드
- 자연어 처리 API
- 엑셀 파싱 엔진
- 실시간 동기화

### 10.3 AI/ML
- 자연어 이해 모델
- 카테고리 자동 분류
- 지출 패턴 분석

---

이 상세 기능 명세서는 머니챗의 핵심 컨셉인 '대화형' 경험을 중심으로 설계되었습니다. 
사용자가 가계부를 '작성'하는 것이 아니라 AI와 '대화'하며 자연스럽게 재정을 관리할 수 있도록 
모든 인터랙션을 설계했습니다.